(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[276],{39130:(e,r,s)=>{Promise.resolve().then(s.bind(s,18385))},73312:(e,r,s)=>{"use strict";s.d(r,{$:()=>d});var i=s(95155),t=s(21567);let n={primary:"bg-primary text-primary-foreground shadow-sm hover:bg-primary/90 focus-visible:ring-2 focus-visible:ring-primary",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/90 focus-visible:ring-2 focus-visible:ring-secondary",ghost:"hover:bg-muted text-muted-foreground",outline:"border border-border bg-card text-foreground hover:bg-muted/60 focus-visible:ring-2 focus-visible:ring-primary/60",danger:"bg-danger text-white shadow-sm hover:bg-danger/90 focus-visible:ring-2 focus-visible:ring-danger"},a={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};function d(e){let{className:r,variant:s="primary",size:d="md",type:o="button",...l}=e;return(0,i.jsx)("button",{type:o,className:(0,t.cn)("inline-flex items-center justify-center gap-2 rounded-md font-medium transition-colors focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-60",n[s],a[d],r),...l})}},49982:(e,r,s)=>{"use strict";s.d(r,{M:()=>a});var i=s(95155),t=s(21567);let n={info:"border-primary/40 bg-primary/5 text-primary",warning:"border-warning/40 bg-warning/5 text-warning",success:"border-success/40 bg-success/5 text-success"};function a(e){let{title:r,message:s,variant:a="info"}=e;return(0,i.jsxs)("div",{className:(0,t.cn)("flex flex-col gap-1 rounded-lg border px-4 py-3 text-sm shadow-subtle",n[a]),children:[r?(0,i.jsx)("span",{className:"font-semibold uppercase tracking-wide text-xs",children:r}):null,(0,i.jsx)("span",{children:s})]})}},18385:(e,r,s)=>{"use strict";s.d(r,{MonthlyDashboardUploader:()=>o});var i=s(95155),t=s(12115),n=s(73312),a=s(49982);let d=[{id:"cbos",label:"CBOS Dashboard Export",description:"Monthly export from CBOS with orders, revenue, and invoice data.",accept:".csv"},{id:"google",label:"Google Ads Report",description:"Monthly performance CSV grouped by campaign with spend and conversions.",accept:".csv"},{id:"bing",label:"Microsoft Ads Report",description:"Monthly performance CSV exported from Microsoft Ads.",accept:".csv"}];function o(){let[e,r]=(0,t.useState)({cbos:null,google:null,bing:null}),[s,o]=(0,t.useState)("idle"),[l,c]=(0,t.useState)(null),u=(0,t.useMemo)(()=>d.every(r=>null!==e[r.id]),[e]),m=(e,s)=>{var i;let t=null!==(i=null==s?void 0:s[0])&&void 0!==i?i:null;r(r=>({...r,[e]:t}))},p=async()=>{if(!u){c("Please attach all required files before processing.");return}o("uploading"),c(null),await new Promise(e=>setTimeout(e,1200)),o("success"),c("Files validated and queued for Supabase ingestion. Refresh data after processing completes."),r({cbos:null,google:null,bing:null})};return(0,i.jsxs)("div",{className:"space-y-6",children:["success"===s&&l?(0,i.jsx)(a.M,{title:"Upload scheduled",message:l,variant:"success"}):null,"idle"===s&&l?(0,i.jsx)(a.M,{title:"Action required",message:l,variant:"warning"}):null,(0,i.jsx)("div",{className:"grid gap-4",children:d.map(r=>{let s=e[r.id];return(0,i.jsxs)("div",{className:"flex flex-col gap-3 rounded-lg border border-border bg-card/80 p-4 shadow-subtle",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-sm font-semibold",children:r.label}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:r.description})]}),(0,i.jsxs)("label",{className:"shrink-0",children:[(0,i.jsx)("input",{type:"file",accept:r.accept,className:"hidden",onChange:e=>m(r.id,e.target.files)}),(0,i.jsx)("span",{className:"inline-flex cursor-pointer items-center rounded-md border border-primary/30 bg-primary/10 px-3 py-1.5 text-xs font-semibold text-primary shadow-subtle transition hover:bg-primary/20",children:s?"Replace":"Upload"})]})]}),s?(0,i.jsxs)("div",{className:"rounded-md border border-dashed border-primary/30 bg-primary/5 p-3 text-xs text-primary",children:[s.name," â€¢ ",(s.size/1024).toFixed(1)," KB"]}):(0,i.jsx)("div",{className:"rounded-md border border-dashed border-border/60 bg-muted/30 p-3 text-xs text-muted-foreground",children:"No file selected"})]},r.id)})}),(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)(n.$,{onClick:p,disabled:"uploading"===s,children:"uploading"===s?"Validating...":"Process Upload"}),(0,i.jsx)("span",{className:"text-xs text-muted-foreground",children:"Files are staged and validated locally before Supabase import."})]})]})}},21567:(e,r,s)=>{"use strict";s.d(r,{cn:()=>n,vv:()=>a});var i=s(43463),t=s(69795);function n(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,t.QP)((0,i.$)(r))}function a(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}}},e=>{var r=r=>e(e.s=r);e.O(0,[181,441,517,358],()=>r(39130)),_N_E=e.O()}]);